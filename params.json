{"name":"JuJube Linux","tagline":"JuJube Linux website","body":"JuJube\r\n====\r\n**JuJube**: the Arch Linux based distro that runs upon any Linux distros without root access\r\n\r\n[![Build status](https://api.travis-ci.org/fsquillace/jujube.png?branch=master)](https://travis-ci.org/fsquillace/jujube)\r\n\r\nDescription\r\n-----------\r\n**JuJube** is a lightweight Arch Linux based distribution that allows to have\r\nan isolated GNU/Linux environment inside any generic host GNU/Linux OS\r\nand without the need to have root privileges for installing packages.\r\n\r\nJuJube contains mainly the package managers (called pacman and yaourt) that allows to access\r\nto a wide range of packages from the Arch Linux repositories.\r\n\r\nThe main advantages on using JuJube are:\r\n- Install packages without root privileges.\r\n- Isolated environment in which you can install packages without affecting a production system.\r\n- Access to a wide range of packages in particular on GNU/Linux distros that may contain limited repositories (such as CentOS and RedHat).\r\n- Available for x86\\_64, x86 and ARM architectures but you can build your own image from scratch too!\r\n- All Arch Linux lovers can have their favourite distro everywhere!\r\n\r\nJuJube follows the [Arch Linux philosophy](https://wiki.archlinux.org/index.php/The_Arch_Way).\r\n\r\nQuickstart\r\n----------\r\nThere are three different ways you can run JuJube:\r\n\r\n- As normal user - Allow to make basic operations using [proot](https://wiki.archlinux.org/index.php/Proot):\r\n\r\n```sh\r\n    jujube\r\n```\r\n\r\n- As fakeroot - Allow to install/remove packages using [proot](https://wiki.archlinux.org/index.php/Proot):\r\n\r\n```sh\r\n    jujube -f\r\n```\r\n\r\n- As root - Allow to have fully root privileges inside JuJube environment using [arch-chroot](https://wiki.archlinux.org/index.php/Chroot) (you need to be root for executing this):\r\n\r\n```sh\r\n    jujube -r\r\n```\r\n\r\nIf the JuJube image has not been downloaded yet, the script will download\r\nthe JuJube image and will place it to the default directory ~/.jujube.\r\nYou can change the default directory by changing the environment variable *JUJUBE\\_HOME*.\r\n\r\nIf you are new on Archlinux and you are not familiar with *pacman* package manager\r\nvisit the [pacman rosetta page](https://wiki.archlinux.org/index.php/Pacman_Rosetta).\r\n\r\nInstallation\r\n------------\r\nJust clone the JuJube repo somewhere (for example in ~/jujube):\r\n\r\n    git clone git://github.com/fsquillace/jujube ~/jujube\r\n    export PATH=~/jujube/bin:$PATH\r\n\r\nAlternatively, another installation method would be to directly download the JuJube image and place it to the default directory ~/.jujube:\r\n\r\n    ARCH=<one of \"x86_64\", \"x86\", \"arm\">\r\n    mkdir ~/.jujube\r\n    curl https://dl.dropboxusercontent.com/u/42449030/jujube/jujube-${ARCH}.tar.gz | tar -xz -C ~/.jujube\r\n    export PATH=~/.jujube/opt/jujube/bin:$PATH\r\n\r\nJuJube can works on GNU/Linux OS with kernel version greater or equal\r\n2.6.0 (JuJube was not tested on kernel versions older than this) on 64 bit, 32 bit and ARM architectures.\r\n\r\nAdvanced usage\r\n--------------\r\n### Build image ###\r\nYou can build a new JuJube image from scratch by running the following command:\r\n\r\n    jujube -b [-n]\r\n\r\nThe script will create a directory containing all the essentials\r\nfiles in order to make JuJube working properly (such as pacman, yaourt, arch-chroot and proot).\r\nThe option `-n` will skip the final validation tests if they are not needed.\r\nRemember that the script to build the image must run in an Arch Linux OS with\r\narch-install-scripts, package-query, git and the base-devel packages installed.\r\nTo change the build directory just use the *JUJUBE_TEMPDIR* (by default /tmp).\r\n\r\nAfter creating the image jujube-x86\\_64.tar.gz you can install it by running:\r\n\r\n    jujube -i jujube-x86_64.tar.gz\r\n\r\nRelated wiki page:\r\n- [How to build a JuJube image using QEMU](https://github.com/fsquillace/jujube/wiki/How-to-build-a-JuJube-image-using-QEMU)\r\n\r\n### Bind directories ###\r\nTo bind a host directory to a guest location, you can use proot arguments:\r\n\r\n    jujube -p \"-b /mnt/mydata:/home/user/mydata\"\r\n\r\nCheck out the proot options with:\r\n\r\n    jujube -p \"--help\"\r\n\r\n###Automatic fallback to classic chroot###\r\nSince the [arch-chroot](https://wiki.archlinux.org/index.php/Chroot) may not work\r\non some distros, JuJube automatically tries to fallback to the classic chroot.\r\n\r\n### JuJube as a container ###\r\nAlthough JuJube has not been designed to be a complete container, it is even possible to\r\nvirtualize the process tree thanks to the [systemd container](https://wiki.archlinux.org/index.php/Systemd-nspawn).\r\nThe JuJube containter allows to run services inside the container that can be\r\nvisible from the host OS through the network.\r\nThe drawbacks of this are that the host OS must use systemd as a service manager,\r\nand the container can only be executed using root privileges.\r\n\r\nTo boot a JuJube container:\r\n\r\n    sudo systemd-nspawn -bD ~/.jujube\r\n\r\nRelated wiki page:\r\n- [How to run jujube as a container](https://github.com/fsquillace/jujube/wiki/How-to-run-JuJube-as-a-container)\r\n\r\nDependencies\r\n------------\r\nJuJube comes with a very short list of dependencies in order to be installed in most\r\nof GNU/Linux distributions. The needed executables in the host OS are:\r\n- bash\r\n- wget or curl\r\n- tar\r\n- mkdir\r\n- ln\r\n- chown (for root access only)\r\n\r\nThe minimum recommended linux kernel is 2.6.0+\r\n\r\nTroubleshooting\r\n---------------\r\n\r\n###Cannot use AUR repository###\r\n- **Q**: Why do I get the following error when I try to install a package with yaourt?\r\n```\r\nCannot find the gzip binary required for compressing man and info pages.\r\n```\r\n- **A**: JuJube comes with a very basic number of packages.\r\nIn order to install packages using yaourt you may need to install the package group *base-devel*\r\nthat contains all the essential packages for compiling source code (such as gcc, make, patch, etc):\r\n\r\n```\r\n    pacman -S base-devel\r\n```\r\n\r\n###Kernel too old###\r\n- **Q**: Why do I get the error: \"FATAL: kernel too old\"?\r\n- **A**: This is because the executable from the precompiled package cannot\r\nproperly run if the kernel is old.\r\nJuJube contains two different PRoot binaries, and one of them is highly compatible\r\nwith old linux kernel versions. JuJube will detect which PRoot binary need to be\r\nexecuted but you may need to specify the PRoot *-k* option if the guest rootfs\r\nrequires a newer kernel version:\r\n```\r\n    jujube -p \"-k 3.10\"\r\n```\r\n\r\nIn order to check if an executable inside JuJube environment can be compatible\r\nwith the kernel of the host OS just use the *file* command, for instance:\r\n\r\n```\r\n    file ~/.jujube/usr/bin/bash\r\n    ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked\r\n    (uses shared libs), for GNU/Linux 2.6.32,\r\n    BuildID[sha1]=ec37e49e7188ff4030052783e61b859113e18ca6, stripped\r\n```\r\n\r\nFrom the output you can see what is the minimum recommended Linux kernel version.\r\n\r\n###SUID permissions###\r\n- **Q**: Why I do not have permissions for ping?\r\n```\r\n    ping www.google.com\r\n    ping: icmp open socket: Operation not permitted\r\n```\r\n\r\n- **A**: The ping command uses *suid* permissions that allow to execute the command using\r\nroot privileges. The fakeroot mode is not able to execute a command set with suid,\r\nand you may need to use root privileges. There are other few commands that\r\nhave *suid* permission, you can list the commands from your JuJube environment\r\nwith the following command:\r\n```\r\n    find /usr/bin -perm +4000\r\n```\r\n\r\n###No characters are visible on a graphic application###\r\n- **Q**: Why I do not see any characters in the application I have installed?\r\n\r\n- **A**: This is probably because there are no \r\n[fonts](https://wiki.archlinux.org/index.php/Font_Configuration) installed in\r\nthe system.\r\n\r\nTo quick fix this, you can just install a fonts package:\r\n```\r\n    pacman -S gnu-free-fonts\r\n```\r\n\r\n###Differences between filesystem and package ownership###\r\n- **Q**: Why do I get warning when I install a package using root privileges?\r\n```\r\n    pacman -S systat\r\n    ...\r\n    warning: directory ownership differs on /usr/\r\n    filesystem: 1000:100  package: 0:0\r\n    ...\r\n```\r\n\r\n- **A**: In these cases the package installation went smoothly anyway.\r\nThis should happen every time you install package with root privileges\r\nsince JuJube will try to preserve the JuJube environment by assigning ownership\r\nof the files to the real user.\r\n\r\n###No servers configured for repository###\r\n- **Q**: Why I cannot install packages?\r\n```\r\n    pacman -S lsof\r\n    Packages (1): lsof-4.88-2\r\n\r\n    Total Download Size:    0.09 MiB\r\n    Total Installed Size:   0.21 MiB\r\n\r\n    error: no servers configured for repository: core\r\n    error: no servers configured for repository: community\r\n    error: failed to commit transaction (no servers configured for repository)\r\n    Errors occurred, no packages were upgraded.\r\n```\r\n\r\n- **A**: You need simply to update the mirrorlist file according to your location:\r\n```\r\n    # Uncomment the repository line according to your location\r\n    nano /etc/pacman.d/mirrorlist\r\n    pacman -Syy\r\n```\r\n\r\nLicense\r\n-------\r\nCopyright (c) 2012-2015\r\n\r\nThis program is free software; you can redistribute it and/or modify it\r\nunder the terms of the GNU Library General Public License as published\r\nby the Free Software Foundation; either version 2, or (at your option)\r\nany later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nAuthor\r\n------\r\nFilippo Squillace <feel.squally@gmail.com>\r\n\r\nWWW\r\n---\r\nhttps://github.com/fsquillace/jujube\r\n\r\nLast words\r\n---------\r\nQuote of the [lotus](http://en.wikipedia.org/wiki/Ziziphus_lotus) (a selvatic jujube plant)\r\n\r\n> Per nove infausti dì sul mar pescoso\r\n> i venti rei mi trasportaro. Al fine\r\n> nel decimo sbarcammo in su le rive\r\n> de’ Lotofági, un popolo, a cui cibo\r\n> È d’una pianta il florido germoglio.\r\n> ...\r\n> ...\r\n> Partiro e s’affrontaro a quella gente,\r\n> che, lunge dal voler la vita loro,\r\n> il dolce loto a savorar lor porse.\r\n> chiunque l’esca dilettosa, e nuova\r\n> gustato avea, con le novelle indietro\r\n> non bramava tornar: colà bramava\r\n> starsi, e, mangiando del soave loto,\r\n> la contrada natia sbandir dal petto.\r\n\r\nverse 105-123, Homer, from [Odyssey Book IX](http://it.wikisource.org/wiki/Odissea/Libro_IX)\r\n([en](http://en.wikisource.org/wiki/The_Odyssey_(Butler)/Book_IX))","google":"UA-63054253-1","note":"Don't delete this file! It's used internally to help with page regeneration."}